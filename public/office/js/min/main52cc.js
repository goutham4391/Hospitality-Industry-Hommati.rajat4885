function sample_work_init(){$(".work-filter-list").isotope({filter:".all"}),$(".work-filter-list").isotope(),$(".work-filter li").on("click",(function(){var e=$(this).attr("data-filter");$(".work-filter-list").isotope({filter:e})})),$(".vs_sample_btn").on("click",(function(){beforeAfter(),$("#carouselvs0,#carouselvs1,#carouselvs2").css("display","none"),$($(this).attr("data-target")).css("display","block"),beforeAfter()})),$(".hd_stills_btn").on("click",(function(){$("#hd_stills_carousel0,#hd_stills_carousel1,#hd_stills_carousel2").css("display","none"),$($(this).attr("data-target")).css("display","block")}))}function getTeamDetails(e){$.ajax({type:"POST",url:team_details,data:{id:e},success:function(e){$("#member_name_div").html(e.name),$("#title_div").html(e.title),$("#description_div").html(e.description)}})}function showSuccessToast(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8e3;1==t&&(a=3e5),$().toastmessage("showToast",{text:e,sticky:t,type:"success",position:"top-right",stayTime:a})}function showErrorToast(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8e3;1==t&&(a=3e5),$().toastmessage("showToast",{text:e,sticky:t,type:"error",position:"top-right",stayTime:a})}$(document).ready((function(){$(".about_me_box_effect").bind("click mouseover",(function(){var e=$(this).attr("data-id");$.ajax({type:"POST",url:team_details,data:{id:e},success:function(e){$("#member_name_div").html(e.name),$("#title_div").html(e.title),$("#description_div").html(e.description)}})}))})),$(document).ready((function(e){e(".counter").counterUp({delay:50,time:2e3})})),$.validator.addMethod("name_only",(function(e,t){return!!/^[A-Za-z\s]+$/.test(e)}),"Please Enter Proper Name"),$("#contact_us_form").validate({rules:{"landing-contact-name":{required:!0},"landing-contact-email":{required:!0,email:!0},"landing-contact-phone":{required:!0},"landing-contact-message":{required:!0}},messages:{"landing-contact-name":{required:"Name is required"},"landing-contact-email":{required:"Email is required",email:"Please Enter Proper email"},"landing-contact-phone":{required:"Phone is required"},"landing-contact-message":{required:"Message is required"}}}),$("#contact_us_form").on("submit",(function(e){$("#contact_us_form").valid()&&(e.preventDefault(),$.ajax({data:$("#contact_us_form").serialize(),url:franchisee_landing_contact_request,type:"POST",cache:!1,contentData:!1,processData:!1,success:function(e){0==e.success?showErrorToast(e.message):(showSuccessToast(e.message),$("#contact_us_form")[0].reset())}}))})),$("#phone_number").length&&document.getElementById("phone_number").addEventListener("input",(function(e){var t=e.target.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/);e.target.value=t[2]?"("+t[1]+") "+t[2]+(t[3]?"-"+t[3]:""):t[1]}));var slideIndex=1;function plusSlides(e){showSlides(slideIndex+=e)}function currentSlide(e){showSlides(slideIndex=e)}function showSlides(e){var t,a=document.getElementsByClassName("mySlides"),s=document.getElementsByClassName("dot");for(e>a.length&&(slideIndex=1),e<1&&(slideIndex=a.length),t=0;t<a.length;t++)a[t].style.display="none";for(t=0;t<s.length;t++)s[t].className=s[t].className.replace(" active","");a[slideIndex-1].style.display="block",s.length>0&&(s[slideIndex-1].className+=" active")}function beforeAfter(){$(".ba-slider").each((function(){var e=$(this),t=e.width()+"px";e.find(".resize img").css("width",t),drags(e.find(".handle"),e.find(".resize"),e)}))}function drags(e,t,a){e.on("mousedown touchstart",(function(s){e.addClass("draggable"),t.addClass("resizable");var o=s.pageX?s.pageX:s.originalEvent.touches[0].pageX,n=e.outerWidth(),i=e.offset().left+n-o,r=a.offset().left,l=a.outerWidth();minLeft=r+10,maxLeft=r+l-n-10,e.parents().on("mousemove touchmove",(function(e){var a=e.pageX?e.pageX:e.originalEvent.touches[0].pageX;leftValue=a+i-n,leftValue<minLeft?leftValue=minLeft:leftValue>maxLeft&&(leftValue=maxLeft),widthValue=100*(leftValue+n/2-r)/l+"%",$(".draggable").css("left",widthValue).on("mouseup touchend touchcancel",(function(){$(this).removeClass("draggable"),t.removeClass("resizable")})),$(".resizable").css("width",widthValue)})).on("mouseup touchend touchcancel",(function(){e.removeClass("draggable"),t.removeClass("resizable")})),s.preventDefault()})).on("mouseup touchend touchcancel",(function(a){e.removeClass("draggable"),t.removeClass("resizable")}))}$(window).resize((function(){$(".ba-slider").each((function(){var e=$(this),t=e.width()+"px";e.find(".resize img").css("width",t)}))}));var fetchingCount=0;function updateCounts(e,t,a,s){e=parseInt(e),t=e+parseInt(t),$("."+a).html(t),$("#"+s).val(t),$("."+a).countTo({from:e,to:t,speed:4e3,refreshInterval:100,onComplete:function(e){$("."+a).html(t.toLocaleString())}})}function activeSample(e,t){"SamplesModal3"==e||"SamplesModal6"==e?"SamplesModal3"==e?($("#hd_stills_carousel0,#hd_stills_carousel1,#hd_stills_carousel2").css("display","none"),$("#hd_stills_carousel"+t).css("display","block")):"SamplesModal6"==e&&($("#carouselvs0,#carouselvs1,#carouselvs2").css("display","none"),$("#carouselvs"+t).css("display","block")):($("#"+e).find(".carousel .carousel-item").removeClass("active"),$("#"+e).find(".carousel .carousel-item:nth-child("+t+")").addClass("active"),$("#"+e).find(".sample_work_modal_tabs button").removeClass("active"),$("#"+e).find(".sample_work_modal_tabs:nth-child("+t+") button").addClass("active")),$("#"+e).find(".sample_work_modal_tab"+t).insertBefore("#"+e+" .sample_work_modal_tabs:first-child")}function sample_work_fetch_ajax(){$.ajax({data:{sample_json:$("#sample_json").val()},url:get_franchise_sample_page,type:"POST",cache:!1,success:function(e){$("#loading-indicator-address-filter").hide(),$(".old_sample_header").remove(),$("#nav_portfolio").html(e.sample_portfolio),$("#nav_portfolio").after(e.sample_modal),sample_work_init(),beforeAfter()},error:function(){}})}function services_modal_fetch_ajax(){$.ajax({data:{fId:franchiseId,code:franchiseCode,pagemeta:$("#pagemeta").val(),metainfo:$("#metainfo").val(),sample_json:$("#sample_json").val()},url:get_services_modal_fetch,type:"POST",cache:!1,success:function(e){$("section#nav_services").after(e.services_modal),beforeAfter(),showSlides(slideIndex)},error:function(){}})}!function(e){e.fn.countTo=function(t){t=e.extend({},e.fn.countTo.defaults,t||{});var a=Math.ceil(t.speed/t.refreshInterval),s=(t.to-t.from)/a;return e(this).each((function(){var o=this,n=0,i=t.from,r=setInterval((function(){i+=s,n++,e(o).html(i.toFixed(t.decimals)),"function"==typeof t.onUpdate&&t.onUpdate.call(o,i);n>=a&&(clearInterval(r),i=t.to,"function"==typeof t.onComplete&&t.onComplete.call(o,i))}),t.refreshInterval)}))},e.fn.countTo.defaults={from:0,to:100,speed:1e3,refreshInterval:100,decimals:0,onUpdate:null,onComplete:null}}(jQuery),$(document).on("hidden.bs.modal","#threedtourmodal,#aerialvideomodal,#introvideomodal,#curbleadsmodal,#arcardmodal,#arhomemodal,#agent_testimonial_videos,#SamplesModal,#SamplesModal2",(function(){if("SamplesModal"==$(this).attr("id")||"SamplesModal2"==$(this).attr("id")){var e=$(this).find(".carousel-item.active iframe").attr("src");$(this).find(".carousel-item.active iframe").attr("src",""),$(this).find(".carousel-item.active iframe").attr("src",e)}else{e=$(this).find("iframe").attr("src");$(this).find("iframe").attr("src",""),$(this).find("iframe").attr("src",e)}})),$(document).on("click",".work-filter ul li",(function(){$(".work-filter ul li").removeClass("active"),$(this).addClass("active")})),$(document).on("click","#enroll_featured_agent_btn,#enroll_agent_advantage_program_btn,#fabtn_pricing_section",(function(){"fabtn_pricing_section"!=$(this).attr("id")&&($("#our_service_popup .btn-close,#our_service_popup .service_back_btn").attr("data-bs-target","#firstenrollmodal"),$("#our_service_popup .btn-close,#our_service_popup .service_back_btn").removeAttr("data-bs-dismiss"),$("#our_service_popup .btn-close,#our_service_popup .service_back_btn").attr("data-bs-toggle","modal")),"enroll_featured_agent_btn"==$(this).attr("id")||"fabtn_pricing_section"==$(this).attr("id")?currentSlide(12):currentSlide(9)})),$(document).on("hidden.bs.modal","#our_service_popup",(function(){$("#our_service_popup .btn-close,#our_service_popup .service_back_btn").removeAttr("data-bs-toggle"),$("#our_service_popup .btn-close,#our_service_popup .service_back_btn").removeAttr("data-bs-target"),$("#our_service_popup .btn-close,#our_service_popup .service_back_btn").attr("data-bs-dismiss","modal")})),$(document).on("click","#enroll_la_btn,#enroll_fa_btn",(function(){"enroll_la_btn"==$(this).attr("id")?$("#secondenrollmodal").attr("data-type","1"):$("#secondenrollmodal").attr("data-type","2")})),$(document).on("show.bs.modal",".trigger_before_after",(function(){setTimeout((function(){beforeAfter()}),200)})),$(document).on("slide.bs.carousel",".trigger_before_after",(function(){setTimeout((function(){beforeAfter()}),500)})),$(document).on("scroll",(function(){$(document).scrollTop()>90?$(".navbar-sticky").addClass("fixed-top"):$(".navbar-sticky").removeClass("fixed-top")})),$(document).ready((function(){$(".nav-link").on("click",(function(){if("undefined"!=typeof agentServicePage&&agentServicePage)$(this).addClass("active");else{$(".navbar-toggler").hasClass("collapsed")||$(".navbar-toggler").click();var e=$(this).attr("href").split("#");e="#"+e[1];setTimeout((function(){window.matchMedia("(max-width: 767px)").matches,jQuery("html, body").animate({scrollTop:jQuery(e).offset().top-90},90)}),300)}}))})),$(document).ready((function(){services_modal_fetch_ajax(),setTimeout((function(){sample_work_fetch_ajax()}),2e3)})),$(window).on("load",(function(){setInterval((function(){var e=$("#og_services_count").val(),t=$("#og_agents_count").val(),a=$("#og_listing_count").val(),s=$("#og_buyers_count").val();0==fetchingCount&&(fetchingCount=1,$.ajax({type:"POST",url:counts_update,cache:!1,data:{services_completed_count:e,agents_count:t,current_listings_count:a,buyers_search_count:s,franchiseid:franchiseId},success:function(o){fetchingCount=0,o.services_incremented_by>0&&updateCounts(e,o.services_incremented_by,"services_counter","og_services_count"),o.agents_incremented_by>0&&updateCounts(t,o.agents_incremented_by,"agents_count","og_agents_count"),o.listings_incremented_by>0&&updateCounts(a,o.listings_incremented_by,"current_listings_count","og_listing_count"),o.buyers_incremented_by>0&&updateCounts(s,o.buyers_incremented_by,"buyers_search_count","og_buyers_count")}}))}),5e3)}));
